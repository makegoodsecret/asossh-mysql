<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.secret.pojo.GoodsInfoPojo" table="goods_info" catalog="asossh">
        <id name="goodsId" type="java.lang.Integer">
            <column name="goods_id" />
            <generator class="identity" />
        </id>
        <property name="goodsName" type="java.lang.String">
            <column name="goods_name" length="50" not-null="true" />
        </property>
        <property name="goodsDis" type="java.lang.String">
            <column name="goods_dis" length="65535" />
        </property>
       
        <property name="userId" type="java.lang.Integer">
            <column name="user_id" not-null="true" />
        </property>
        <property name="goodsPrice" type="java.lang.Double">
            <column name="goods_price" precision="22" scale="0" not-null="true" />
        </property>
        <property name="goodsTime" type="java.sql.Timestamp">
            <column name="goods_time" length="0"  />
        </property>
  <!-- 配置一对一关联 图片-->
        <one-to-one  name="goodsImagePojo" lazy="false" cascade="all" 
        class="com.secret.pojo.GoodsImagePojo" property-ref="goodsInfoPojo"
        ></one-to-one>
  <!-- 配置类别多对一关联 -->
  		<many-to-one name="sortPojo"  class="com.secret.pojo.SortPojo"  insert="true"
  		column="sort_id" cascade="save-update" fetch="join"   lazy="false"
  		></many-to-one>     
  <!-- 匹配饭店多对一关联 -->
  		<many-to-one name="hotelPojo" class="com.secret.pojo.HotelPojo"
  		column="hotel_id" cascade="save-update" fetch="join"   lazy="false"
  		></many-to-one>
  <!-- 配置套餐表的多对多关联 -->
  		<set name="mealPojo"
  		table="goods_meal"
  		lazy="false"
  		inverse="true"
  		cascade="delete"
  		>
  		<key column="goods_id"></key>
  		<many-to-many 
  			class="com.secret.pojo.MealPojo"
  			column="meal_id"
  		></many-to-many>
  		</set>
    <!-- 设置与订单的一对多关联 -->
    	<set name="goodsOrderPojo"
    	lazy="false" fetch="join" cascade="save-update" inverse="true"
    	>
    	<key column="goods_id"></key>
    	<one-to-many class="com.secret.pojo.GoodsOrderPojo" />
    	</set>
    </class>
</hibernate-mapping>
